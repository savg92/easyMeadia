{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { jwtDecode } from 'jwt-decode';\nexport let HeaderComponent = class HeaderComponent {\n  constructor(router) {\n    this.router = router;\n    this.decoded = null;\n    this.menuOpen = false;\n    this.user = 'User';\n    this.nav = [{\n      title: 'Create Publication',\n      img: '../../../assets/create.svg',\n      alt: 'create',\n      route: '/add-note'\n    }, {\n      title: 'My Publications',\n      img: '../../../assets/myNotes.svg',\n      alt: 'My notes',\n      route: '/my-notes'\n    }, {\n      title: 'See All Publications',\n      img: '../../../assets/allNotes.svg',\n      alt: 'All notes',\n      route: '/notes'\n    }, {\n      title: 'Logout',\n      img: '../../../assets/logout.svg',\n      alt: 'logout',\n      route: '/login',\n      func: () => this.logout()\n    }];\n    const token = localStorage.getItem('token');\n    if (token && token.split('.').length === 3) {\n      this.decoded = jwtDecode(token);\n    }\n  }\n  logout() {\n    localStorage.removeItem('token');\n  }\n  ngOnInit() {\n    if (this.decoded) {\n      this.user = this.decoded.data.name[0].toUpperCase() + this.decoded.data.name.slice(1);\n    }\n  }\n};\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})], HeaderComponent);","map":{"version":3,"names":["Component","jwtDecode","HeaderComponent","constructor","router","decoded","menuOpen","user","nav","title","img","alt","route","func","logout","token","localStorage","getItem","split","length","removeItem","ngOnInit","data","name","toUpperCase","slice","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/santiago.valenzuela/Desktop/Easy Media/frontend/src/app/components/header/header.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { jwtDecode } from 'jwt-decode';\n\ntype JwtPayload = {\n\tiat: number;\n\texp: number;\n\tdata: {\n\t\tid: number;\n    name: string;\n\t\ttype: string;\n\t};\n};\n@Component({\n\tselector: 'app-header',\n\ttemplateUrl: './header.component.html',\n\tstyleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent {\n\tprivate decoded: JwtPayload | null = null;\n\n\tconstructor(public router: Router) {\n\t\tconst token = localStorage.getItem('token');\n\t\tif (token && token.split('.').length === 3) {\n\t\t\tthis.decoded = jwtDecode<JwtPayload>(token);\n\t\t}\n\t}\n\n\tmenuOpen = false;\n\tuser = 'User';\n\n\tlogout() {\n\t\tlocalStorage.removeItem('token');\n\t}\n\n\tngOnInit(): void {\n\t\tif (this.decoded) {\n\t\t\tthis.user =\n\t\t\t\tthis.decoded.data.name[0].toUpperCase() +\n\t\t\t\tthis.decoded.data.name.slice(1);\n\t\t}\n\t}\n\n\tnav = [\n\t\t{\n\t\t\ttitle: 'Create Publication',\n\t\t\timg: '../../../assets/create.svg',\n\t\t\talt: 'create',\n\t\t\troute: '/add-note',\n\t\t},\n\t\t{\n\t\t\ttitle: 'My Publications',\n\t\t\timg: '../../../assets/myNotes.svg',\n\t\t\talt: 'My notes',\n\t\t\troute: '/my-notes',\n\t\t},\n\t\t{\n\t\t\ttitle: 'See All Publications',\n\t\t\timg: '../../../assets/allNotes.svg',\n\t\t\talt: 'All notes',\n\t\t\troute: '/notes',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Logout',\n\t\t\timg: '../../../assets/logout.svg',\n\t\t\talt: 'logout',\n\t\t\troute: '/login',\n\t\t\tfunc: () => this.logout(),\n\t\t},\n\t];\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAASC,SAAS,QAAQ,YAAY;AAgB/B,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAG3BC,YAAmBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;IAFjB,KAAAC,OAAO,GAAsB,IAAI;IASzC,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,IAAI,GAAG,MAAM;IAcb,KAAAC,GAAG,GAAG,CACL;MACCC,KAAK,EAAE,oBAAoB;MAC3BC,GAAG,EAAE,4BAA4B;MACjCC,GAAG,EAAE,QAAQ;MACbC,KAAK,EAAE;KACP,EACD;MACCH,KAAK,EAAE,iBAAiB;MACxBC,GAAG,EAAE,6BAA6B;MAClCC,GAAG,EAAE,UAAU;MACfC,KAAK,EAAE;KACP,EACD;MACCH,KAAK,EAAE,sBAAsB;MAC7BC,GAAG,EAAE,8BAA8B;MACnCC,GAAG,EAAE,WAAW;MAChBC,KAAK,EAAE;KACP,EACD;MACCH,KAAK,EAAE,QAAQ;MACfC,GAAG,EAAE,4BAA4B;MACjCC,GAAG,EAAE,QAAQ;MACbC,KAAK,EAAE,QAAQ;MACfC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACC,MAAM;KACvB,CACD;IA/CA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,IAAIA,KAAK,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,KAAK,CAAC,EAAE;MAC3C,IAAI,CAACd,OAAO,GAAGJ,SAAS,CAAac,KAAK,CAAC;;EAE7C;EAKAD,MAAMA,CAAA;IACLE,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC;EACjC;EAEAC,QAAQA,CAAA;IACP,IAAI,IAAI,CAAChB,OAAO,EAAE;MACjB,IAAI,CAACE,IAAI,GACR,IAAI,CAACF,OAAO,CAACiB,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GACvC,IAAI,CAACnB,OAAO,CAACiB,IAAI,CAACC,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;;EAElC;CA6BA;AApDYvB,eAAe,GAAAwB,UAAA,EAL3B1B,SAAS,CAAC;EACV2B,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACrC,CAAC,C,EACW3B,eAAe,CAoD3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}